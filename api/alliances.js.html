<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>alliances.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-alliances.html">alliances</a><ul class='methods'><li data-type='method'><a href="module-alliances.html#~10013">10013</a></li><li data-type='method'><a href="module-alliances.html#~10018">10018</a></li><li data-type='method'><a href="module-alliances.html#~10019">10019</a></li><li data-type='method'><a href="module-alliances.html#~10029">10029</a></li><li data-type='method'><a href="module-alliances.html#~10038">10038</a></li><li data-type='method'><a href="module-alliances.html#~10038">10038</a></li><li data-type='method'><a href="module-alliances.html#~10067">10067</a></li><li data-type='method'><a href="module-alliances.html#~10068">10068</a></li><li data-type='method'><a href="module-alliances.html#~10071">10071</a></li><li data-type='method'><a href="module-alliances.html#~10072">10072</a></li><li data-type='method'><a href="module-alliances.html#~10109">10109</a></li><li data-type='method'><a href="module-alliances.html#~nonAllianceCards">nonAllianceCards</a></li></ul></li><li><a href="module-formating.html">formating</a><ul class='methods'><li data-type='method'><a href="module-formating.html#~cardHelpMessage">cardHelpMessage</a></li><li data-type='method'><a href="module-formating.html#~cardNoHitsMessage">cardNoHitsMessage</a></li><li data-type='method'><a href="module-formating.html#~deckHelpMessage">deckHelpMessage</a></li><li data-type='method'><a href="module-formating.html#~deckNoHitsMessage">deckNoHitsMessage</a></li><li data-type='method'><a href="module-formating.html#~formatCards">formatCards</a></li><li data-type='method'><a href="module-formating.html#~formatDecklist">formatDecklist</a></li><li data-type='method'><a href="module-formating.html#~formatText">formatText</a></li><li data-type='method'><a href="module-formating.html#~formatTitle">formatTitle</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">alliances.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Provides a number of functions for calculating the influence cost of alliance cards in decks.
 * @module alliances
 * @author Dominic Shelton.
 */
'use strict';

/**
 * The function for Heritage Committee is bound to nonAllianceCards with 6 Jinteki cards minimum.
 * @function 10013
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10013'] = nonAllianceCards.bind(undefined, "Jinteki", 6);

/**
 * Calculates a multiplier for the influence cost of Mumba Temple by counting the number of ICE in the deck.
 * @function 10018
 * @param   decklist    The decklist to calculate the influence for.
 * @return  0 if the influence cost is free, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10018'] = (decklist) => {
    var ice = 0;
    ["Barrier", "Code Gate", "Sentry", "Other", "Multi"].forEach((type) => {
        if (decklist.cards[type]) {
            decklist.cards[type].forEach((card) => {
                ice += card.quantity;
            });
        }
    });
    if (ice &lt;= 15) {
        return 0;
    } else {
        return 1;
    }
}

/**
 * Calculates a multiplier for the influence cost of Museum of History by counting the number of cards in the deck.
 * @function    10019
 * @param   decklist    The decklist to calculate the influence for.
 * @return  0 if the influence cost is free, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10019'] = (decklist) => {
    var totalCards = 0;
    Object.keys(decklist.cards).forEach((type) => {
        decklist.cards[type].forEach(card => {
            totalCards += card.quantity;
        });
    });
    // Minus 1 for the identity which doesn't count towards the total cards.
    totalCards -= 1;
    if (totalCards >= 50) {
        return 0;
    } else {
        return 1;
    }
}

/**
 * The function for Product Recall is bound to nonAllianceCards with 6 Haas-Bioroid cards minimum.
 * @function 10029
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10029'] = nonAllianceCards.bind(undefined, "Haas-Bioroid", 6);

/**
 * Calculates a multiplier for the influence cost of PAD Factory by counting the number of PAD Campaigns in the deck.
 * @function 10038
 * @param   decklist    The decklist to calculate the influence for.
 * @return  0 if the influence cost is free, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10038'] = (decklist) => {
    var padCampaigns = 0;
    if (decklist.cards["Asset"]) {
        decklist.cards["Asset"].forEach(card => {
            if (card.card.title === "PAD Campaign") {
                padCampaigns = card.quantity;
            }
        });
    }
    if (padCampaigns === 3) {
        return 0;
    } else {
        return 1;
    }
}

/**
 * The function for Jeeves Model Bioroids is bound to nonAllianceCards with 6 Haas-Bioroid cards minimum.
 * @function 10067
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10067'] = nonAllianceCards.bind(undefined, "Haas-Bioroid", 6);

/**
 * The function for Raman Rai is bound to nonAllianceCards with 6 Jinteki cards minimum.
 * @function 10068
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10068'] = nonAllianceCards.bind(undefined, "Jinteki", 6);

/**
 * The function for Salem's Hospitality is bound to nonAllianceCards with 6 NBN cards minimum.
 * @function 10071
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10071'] = nonAllianceCards.bind(undefined, "NBN", 6);

/**
 * The function for Executive Search Firm is bound to nonAllianceCards with 6 Weyland Consortium cards minimum.
 * @function 10072
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10072'] = nonAllianceCards.bind(undefined, "Weyland Consortium", 6);

/**
 * Calculates a multiplier for the influence cost of Mumbad Virtual Tour by counting the number of Assets in the deck.
 * @function 10038
 * @param   decklist    The decklist to calculate the influence for.
 * @return  0 if the influence cost is free, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10076'] = (decklist) => {
    var assets = 0;
    if (decklist.cards["Asset"]) {
        decklist.cards["Asset"].forEach(card => {
            assets += card.quantity;
        });
    }
    if (assets >= 7) {
        return 0;
    } else {
        return 1;
    }
}

/**
 * The function for Ibrahim Salem is bound to nonAllianceCards with 6 NBN cards minimum.
 * @function 10109
 * @param   decklist    The decklist to check the influence cost in.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
module.exports['10109'] = nonAllianceCards.bind(undefined, "NBN", 6);

/**
 * Calculates a multiplier for the influence cost of alliance cards that require a set number of in-faction non-alliance cards to be free.
 * @function    nonAllianceCards
 * @param   faction     The faction that cards must be to satisfy the requirement. Can any of 'Jinteki', 'Haas-Bioroid', 'NBN', 'Weyland Consortium'.
 * @param   minCards    The minimum number of such cards that must be in the deck to satisfy the requirement.
 * @param   decklist    The decklist to check for the requirement.
 * @return  0 if the influence cost in the given decklist is 0, otherwise 1. The result can be multiplied by the regular influence cost.
 */
function nonAllianceCards (faction, minCards, decklist) {
    var factionCards = 0;
    Object.keys(decklist.cards).forEach((type) => {
        decklist.cards[type].forEach((card) => {
            if (card.card.faction === faction &amp;&amp; (!card.card.subtype || card.card.subtype.indexOf("Alliance") === -1)) {
                factionCards += card.quantity;
            }
        });
    });
    if (factionCards >= minCards) {
        return 0;
    } else {
        return 1;
    }
};

</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun May 01 2016 14:25:14 GMT+1200 (NZST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
